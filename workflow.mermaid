flowchart TD
    Start([developãƒ–ãƒ©ãƒ³ãƒã§é–‹å§‹]) --> TDD["/tdd-cycleå®Ÿè¡Œ<br/>spec-name task-id"]

    TDD --> WT["Worktree & Feature<br/>ãƒ–ãƒ©ãƒ³ãƒè‡ªå‹•ä½œæˆ"]
    WT --> Status["tasks.mdæ›´æ–°<br/>â¬œ â†’ ğŸ”¶"]
    Status --> Red["ğŸ”´ Red: ãƒ†ã‚¹ãƒˆä½œæˆ<br/>å¤±æ•—ã™ã‚‹ã“ã¨ã‚’ç¢ºèª"]
    Red --> Green["ğŸŸ¢ Green: å®Ÿè£…<br/>ãƒ†ã‚¹ãƒˆæˆåŠŸã•ã›ã‚‹"]
    Green --> Refactor["â™»ï¸ Refactor: ãƒªãƒ•ã‚¡ã‚¯ã‚¿<br/>å“è³ªå‘ä¸Š"]
    Refactor --> QC{"å“è³ªãƒã‚§ãƒƒã‚¯<br/>ã‚«ãƒãƒ¬ãƒƒã‚¸90%+"}

    QC -->|NG| Green
    QC -->|OK| Log["Implementation Logè¨˜éŒ²"]
    Log --> Commit["è‡ªå‹•ã‚³ãƒŸãƒƒãƒˆ"]

    Commit --> Rocket["/rabbit-rocketå®Ÿè¡Œ"]
    Rocket --> CRLocal["CodeRabbit<br/>ãƒ­ãƒ¼ã‚«ãƒ«ãƒ¬ãƒ“ãƒ¥ãƒ¼"]
    CRLocal --> Fix{"é‡å¤§å•é¡Œ?"}
    Fix -->|ã‚ã‚Š| FixCode["ä¿®æ­£å®Ÿæ–½<br/>æœ€å¤§3å›"]
    FixCode --> Fix
    Fix -->|ãªã—| Push["Push to GitHub"]

    Push --> PR["PRä½œæˆ<br/>feature â†’ develop"]
    PR --> GHReview["GitHubè‡ªå‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼<br/>CodeRabbit & Copilot"]

    GHReview --> CI{"CI/CD & Tests"}
    CI -->|å¤±æ•—| AutoFix1["GitHub Actions<br/>claude-test-fix.yml"]
    AutoFix1 --> CI

    CI -->|æˆåŠŸ| Review{"ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ"}
    Review -->|å¤‰æ›´è¦æ±‚| AutoFix2["GitHub Actions<br/>claude-auto-fix.yml"]
    AutoFix2 --> CI

    Review -->|æ‰¿èª| Merge["PRæ‰‹å‹•ãƒãƒ¼ã‚¸"]
    Merge --> Sync["/syncå®Ÿè¡Œ"]
    Sync --> Cleanup["Worktreeå‰Šé™¤<br/>developæ›´æ–°"]

    Cleanup --> NextTask{"æ¬¡ã®ã‚¿ã‚¹ã‚¯?"}
    NextTask -->|ã‚ã‚Š| Start
    NextTask -->|ãªã—| Release["develop â†’ main<br/>æœ¬ç•ªãƒªãƒªãƒ¼ã‚¹æ‰‹å‹•ãƒãƒ¼ã‚¸"]

    Release --> End([å®Œäº†])

    style TDD fill:#e1f5ff
    style Rocket fill:#e1f5ff
    style Sync fill:#e1f5ff
    style Red fill:#ffebee
    style Green fill:#e8f5e9
    style Refactor fill:#fff3e0
    style AutoFix1 fill:#f3e5f5
    style AutoFix2 fill:#f3e5f5
